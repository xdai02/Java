\chapter{常用类}

\section{Math}

\subsection{Math}

Math类是一个数学类，这个类中封装了很多用来做数学计算的方法，而且都是静态方法。

\begin{table}[H]
	\centering
	\setlength{\tabcolsep}{5mm}{
		\begin{tabular}{|c|l|}
			\hline
			\textbf{成员} & \textbf{描述}                    \\
			\hline
			PI            & 圆周率                           \\
			\hline
			E             & 自然对数                         \\
			\hline
			abs()         & 绝对值                           \\
			\hline
			max()         & 计算两数最大值                   \\
			\hline
			min()         & 计算两数最小值                   \\
			\hline
			round()       & 四舍五入                         \\
			\hline
			floor()       & 向下取整                         \\
			\hline
			ceil()        & 向上取整                         \\
			\hline
			pow()         & 幂运算                           \\
			\hline
			sqrt()        & 平方根                           \\
			\hline
			random()      & 获取一个$ [0, 1) $范围内的随机数 \\
			\hline
		\end{tabular}
	}
	\caption{Math类常用属性与方法}
\end{table}

\mybox{Math}

\begin{lstlisting}[language=Java]
public class TestMath {
    public static void main(String[] args) {
        System.out.println(Math.PI);
        System.out.println(Math.E);

        System.out.println(Math.abs(-123));
        System.out.println(Math.max(11, 22));
        System.out.println(Math.min(11, 22));
        System.out.println(Math.round(2.71));
        System.out.println(Math.floor(2.71));
        System.out.println(Math.ceil(2.71));
        System.out.println(Math.sqrt(121));
        System.out.println(Math.pow(27, 1.0/3));
        System.out.println(Math.random());
    }
}
\end{lstlisting}

\begin{tcolorbox}
	\mybox{运行结果}
	\begin{verbatim}
3.141592653589793
2.718281828459045
123
22
11
3
2.0
3.0
11.0
3.0
0.11106805039094847
	\end{verbatim}
\end{tcolorbox}

\newpage

\section{Random}

\subsection{Random}

Random类是一个专门负责产生随机数的类，在Java中，Random类在java.util包中，使用之前需要先导包。 \\

其实，随机数的产生是有一个固定的随机数算法的。通过代入一个随机数种子，能够生成一个随机数列。由于算法是固定的，因此如果随机数的种子相同，则生成的随机数列也完全相同。

\begin{table}[H]
	\centering
	\setlength{\tabcolsep}{5mm}{
		\begin{tabular}{|c|l|}
			\hline
			\textbf{方法} & \textbf{描述}                                      \\
			\hline
			Random()      & 通过将系统时间作为随机数种子，实例化一个Random对象 \\
			\hline
			Random(int)   & 通过一个指定的随机数种子，实例化一个Random对象     \\
			\hline
			nextInt()     & 生成一个int范围内的随机数                          \\
			\hline
			nextInt(int)  & 生成一个$ [0, bound) $范围内的整型随机数           \\
			\hline
			nextFloat()   & 生成一个$ [0, 1) $范围内的float类型的随机数        \\
			\hline
			nextDouble()  & 生成一个$ [0, 1) $范围内的double类型的随机数       \\
			\hline
			nextBoolean() & 随机生成一个boolean数值                            \\
			\hline
		\end{tabular}
	}
	\caption{Random类常用方法}
\end{table}

\mybox{Random}

\begin{lstlisting}[language=Java]
import java.util.Random;

public class TestRandom {
    public static void main(String[] args) {
        Random random = new Random();

        System.out.println(random.nextInt());       // [-2^31, 2^31-1)
        System.out.println(random.nextInt(100));    // [0, 100)
        System.out.println(random.nextFloat());     // [0, 1)
        System.out.println(random.nextDouble());    // [0, 1)
        System.out.println(random.nextBoolean());   // {true, false}
    }
}
\end{lstlisting}

\begin{tcolorbox}
	\mybox{运行结果}
	\begin{verbatim}
-1660376775
21
0.7046831
0.5488503115436133
false
	\end{verbatim}
\end{tcolorbox}

\newpage

\section{BigInteger与BigDecimal}

\subsection{BigInteger / BigDecimal}

BigInteger类和BigDecimal类都是描述非常大的数字的类。即使是long类型或double类型，也有它表示不了的情况。 \\

BigInteger类表示整型数字，不限范围。BigDecimal类表示浮点型数字，不限范围，不限小数点后面的位数。

\begin{table}[H]
	\centering
	\setlength{\tabcolsep}{5mm}{
		\begin{tabular}{|c|l|}
			\hline
			\textbf{方法}        & \textbf{描述}                              \\
			\hline
			构造方法             & 通过一个数字字符串，实例化一个对象         \\
			\hline
			add()                & 加法                                       \\
			\hline
			subtract()           & 减法                                       \\
			\hline
			multiply()           & 乘法                                       \\
			\hline
			divide()             & 除法                                       \\
			\hline
			divideAndRemainder() & 除法保留商（数组第0位）和余数（数组第1位） \\
			\hline
			intValue()           & 转成指定的基本数据类型的结果（可能会溢出） \\
			\hline
			longValue()          & 转成指定的基本数据类型的结果（可能会溢出） \\
			\hline
			floatValue()         & 转成指定的基本数据类型的结果（可能会溢出） \\
			\hline
			doubleValue()        & 转成指定的基本数据类型的结果（可能会溢出） \\
			\hline
		\end{tabular}
	}
	\caption{BigInteger / BigDecimal类常用方法}
\end{table}

\mybox{BigInteger}

\begin{lstlisting}[language=Java]
import java.math.BigInteger;

public class BigIntegerOperation {
    public static void main(String[] args) {
        BigInteger num1 = new BigInteger("8372075946288582923997");
        BigInteger num2 = new BigInteger("7370535025821200109");

        System.out.println("Addition: " + num1.add(num2));
        System.out.println("Substraction: " + num1.subtract(num2));
        System.out.println("Multiplication: " + num1.multiply(num2));
        System.out.println("Division: " + num1.divide(num2));
        
        BigInteger[] mod = num1.divideAndRemainder(num2);
        System.out.println("Modulo (quotient): " + mod[0]);
        System.out.println("Modulo (remainder): " + mod[1]);
    }
}
\end{lstlisting}

\begin{tcolorbox}
	\mybox{运行结果}
	\begin{verbatim}
Addition: 8379446481314404124106
Substraction: 8364705411262761723888
Multiplication: 61706679000955168878585263937566875115673
Division: 1135
Modulo (quotient): 1135
Modulo (remainder): 6518691981520800282
	\end{verbatim}
\end{tcolorbox}

\newpage

\section{Date}

\subsection{Date}

Date类是一个用来描述时间、日期的类，在java.util包中。

\begin{table}[H]
	\centering
	\setlength{\tabcolsep}{5mm}{
		\begin{tabular}{|c|l|}
			\hline
			\textbf{方法} & \textbf{描述}                                         \\
			\hline
			Date()        & 实例化Date对象，来描述系统当前时间                    \\
			\hline
			Date(long)    & 通过指定的时间戳，实例化Date对象，描述指定的时间      \\
			\hline
			getTime()     & 获取日期对应的时间戳，从1970/1/1 00:00:00开始的毫秒数 \\
			\hline
			setTime()     & 通过修改时间戳，修改这个时间对象描述的时间            \\
			\hline
			equals()      & 判断两个时间是否相同                                  \\
			\hline
			before()      & 判断一个时间是否在另一个时间之前                      \\
			\hline
			after()       & 判断一个时间是否在另一个时间之后                      \\
			\hline
		\end{tabular}
	}
	\caption{Date类常用方法}
\end{table}

\mybox{Date}

\begin{lstlisting}[language=Java]
import java.util.Date;

public class TestDate {
    public static void main(String[] args) {
        Date date = new Date();
        System.out.println("Current time: " + date);

        long timestamp = date.getTime();
        System.out.println("Timestamp: " + timestamp);

        date.setTime(2000237744635L);
        System.out.println("Future time: " + date);
    }
}
\end{lstlisting}

\begin{tcolorbox}
	\mybox{运行结果}
	\begin{verbatim}
Current time: Sat Mar 27 23:06:47 CST 2021
Timestamp: 1616857607149
Future time: Sat May 21 05:35:44 CST 2033
	\end{verbatim}
\end{tcolorbox}

\newpage

\section{SimpleDateFormat}

\subsection{SimpleDateFormat}

SimpleDateFormat类是一个用来格式化时间的类，使用这个对象一般有两种操作：

\begin{enumerate}
	\item 将一个Date对象转换成指定格式的时间字符串。
	\item 将一个指定格式的时间字符串转换成Date对象。
\end{enumerate}

在时间格式中，有几个常见的时间占位符：

\begin{table}[H]
	\centering
	\setlength{\tabcolsep}{5mm}{
		\begin{tabular}{|c|l|}
			\hline
			\textbf{占位符} & \textbf{描述}                                                  \\
			\hline
			y               & 表示年，常用yyyy表示长年份，yy表示短年份                       \\
			\hline
			M               & 表示月，常用MM表示两位占位，如果月份不够两位，往前补零         \\
			\hline
			d               & 表示日，常用dd表示两位占位，如果日期不够两位，往前补零         \\
			\hline
			H               & 表示时，24小时制，常用HH表示两位占位，如果时不够两位，往前补零 \\
			\hline
			h               & 表示时，12小时制，常用hh表示两位占位，如果时不够两位，往前补零 \\
			\hline
			m               & 表示分，常用mm表示两位占位，如果分不够两位，往前补零           \\
			\hline
			s               & 表示秒，常用ss表示两位占位，如果秒不够两位，往前补零           \\
			\hline
			S               & 表示毫秒，常用SSS表示三位占位，如果毫秒不够三位，往前补零      \\
			\hline
		\end{tabular}
	}
	\caption{SimpleDateFormat占位符}
\end{table}

\mybox{Date对象转时间字符串}

\begin{lstlisting}[language=Java]
import java.util.Date;
import java.text.SimpleDateFormat;

public class DateToString {
    public static void main(String[] args) {
        Date date = new Date();
        String format = "yyyy/MM/dd HH:mm:ss";
        SimpleDateFormat sdf = new SimpleDateFormat(format);
        System.out.println(sdf.format(date));
    }
}
\end{lstlisting}

\begin{tcolorbox}
	\mybox{运行结果}
	\begin{verbatim}
2021/03/27 23:10:00
	\end{verbatim}
\end{tcolorbox}

\newpage

\section{包装类}

\subsection{包装类（Wrapper Class）}

包装类就是在基本数据类型的基础上做一层包装。每一个包装类的内部都维护了一个对应的基本数据类型的属性，用来存储管理一个基本数据类型的数据。 \\

包装类是一种引用数据类型，使用包装类，可以使得基本数据类型数据具有引用类型的特征。例如，可以存储在集合中。同时，包装类还添加了若干个特殊的方法。 \\

基本数据类型都有对应的包装类型：

\begin{table}[H]
	\centering
	\setlength{\tabcolsep}{5mm}{
		\begin{tabular}{|c|c|}
			\hline
			\textbf{基本数据类型} & \textbf{包装类型} \\
			\hline
			byte                  & Byte              \\
			\hline
			short                 & Short             \\
			\hline
			int                   & Integer           \\
			\hline
			long                  & Long              \\
			\hline
			float                 & Float             \\
			\hline
			double                & Double            \\
			\hline
			char                  & Character         \\
			\hline
			boolean               & Boolean           \\
			\hline
		\end{tabular}
	}
	\caption{包装类}
\end{table}

\subsection{装箱/拆箱}

由基本数据类型完成向对应的包装类型进行转换的过程称为装箱。通过包装类的静态方法valueOf()完成：每一个包装类中都有一个静态方法valueOf()，这个方法的参数是包装类型对应的基本数据类型。 \\

由包装类型完成向对应的基本数据类型进行转换的过程称为拆箱。手动拆箱的方法是使用每一个包装类对象的xxxValue()方法，这里的xxx表示需要转型的基本数据类型。例如需要转型为int类型，则直接调用intValue()即可。 \\

\mybox{手动装箱/拆箱}

\begin{lstlisting}[language=Java]
public class Boxing {
    public static void main(String[] args) {
        Byte data1 = Byte.valueOf((byte)10);
        byte d1 = data1.byteValue();

        Short data2 = Short.valueOf((short)10);
        short d2 = data2.shortValue();

        Integer data3 = Integer.valueOf(10);
        int d3 = data3.intValue();

        Long data4 = Long.valueOf(10L);
        long d4 = data4.longValue();

        Float data5 = Float.valueOf(3.14f);
        float d5 = data5.floatValue();

        Double data6 = Double.valueOf(3.14);
        double d6 = data6.doubleValue();

        Character data7 = Character.valueOf('x');
        char d7 = data7.charValue();

        Boolean data8 = Boolean.valueOf(false);
        boolean d8 = data8.booleanValue();
    }
}
\end{lstlisting}

某些包装类对象，除了可以拆箱成对应的基本数据类型的数据之外，还可以将包装起来的数据转成其它的基本数据类型的数据。例如Integer，除了有intValue()以外，还有byteValue()等方法，其实就是将包装类中包装起来的int数据，强转成byte类型返回结果。 \\

在JDK 1.5之后，装箱和拆箱是可以自动完成的，只需要一个赋值语句即可。

\mybox{自动装箱/拆箱}

\begin{lstlisting}[language=Java]
public class AutoBoxing {
    public static void main(String[] args) {
        Integer num = 10;
        int n = num;
    }
}
\end{lstlisting}

\newpage